from  rest_framework import status,APIView,response
from UEFSevents.UEFSevents import Events
from .models import Event,Adress,Space,Image
from .serializers import EventSerializer,AdressSerializer,ImageSerializer,SpaceSerializer

class EventAPIView(APIView):
    def get(self,request):
        events=Events.objects.all()
        serializer=EventSerializer(events,many=True)
        return response(serializer.data)

def post(self,request):
    serializer = EventSerializer(data=request.data)
    serializer.is_valid(raise_exception=True)
    serializer.save()
    return response(serializer.data,status=status.HTTP_201_CREATED)


